# 多线程同步和互斥的实现方法

线程同步是指线程之间所具有的一种制约关系，一个线程的执行依赖另外一个线程的消息，当它没有得到另一个线程的消息时应等待，直到消息到达时才被唤醒。

线程互斥是指对于共享的进程系统资源，每个线程访问时的排他性。当有若干个线程都要使用某一个共享资源时，任何时刻最多只允许一个线程去使用，其他线程必须等待，知道占用占用资源者释放该资源。线程互斥可以看成是一种特殊的线程同步。

线程间的同步方法大体可以分为两类：<font color='red'>用户模式和内核模式</font>

1、用户模式：原子操作，临界区(让多线程串行化访问公共资源或者一段代码)，

2、内核模式：事件、信号量、互斥量

内核模式就是利用系统内核对象的单一性来进行同步，使用时需要切换内核态与用户态，而用户模式就是不需要切换内核态，只在用户态完成操作

CAS： 是CPU里内置的一种原子性的操作，是一种可以在代码层面上用来实现无锁同步机制，比如STL里面无锁List是通过底层CAS（基于乐观锁的思想，它是乐观锁的一种实现方式，对数据修改持乐观的态度，它认为大部分数据只是读，不会被修改，所以应用在读多少写的场景）

CAS和有锁并发控制的区别：并发控制的最常见方法就是锁，锁能保证同一时刻只能有一个线程访问临界区的资源，从而实现线程安全。然而，锁虽然有效，但采用的是一种悲观的策略。它假设每一次对临界区资源的访问都会发生冲突，当有一个线程访问资源，其他线程就必须等待，所以锁是会阻塞线程执行的。【https://www.cnblogs.com/myseries/p/10773664.html 中的CAS的无锁思想解释的很好。】





java中实现线程同步的7种方式:https://www.cnblogs.com/XHJT/p/3897440.html